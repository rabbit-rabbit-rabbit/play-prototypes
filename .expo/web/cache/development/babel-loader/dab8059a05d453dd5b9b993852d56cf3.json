{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/steveruiz/GitHub/play-rn-prototype/node_modules/react-native-dialog/src/Modal.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport ReactNativeModal from \"react-native-web/dist/exports/Modal\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nvar MODAL_ANIM_DURATION = 300;\nvar MODAL_BACKDROP_OPACITY = 0.3;\nvar CONTENT_ANIMATION_IN = Platform.select({\n  ios: {\n    opacity: {\n      inputRange: [0, 1],\n      outputRange: [0, 1]\n    },\n    scale: {\n      inputRange: [0, 0.5, 1],\n      outputRange: [1.2, 1.1, 1]\n    }\n  },\n  android: {\n    opacity: {\n      inputRange: [0, 0.5, 1],\n      outputRange: [0, 1, 1]\n    },\n    scale: {\n      inputRange: [0, 1],\n      outputRange: [0.3, 1]\n    }\n  },\n  default: {\n    opacity: {\n      inputRange: [0, 0.5, 1],\n      outputRange: [0, 1, 1]\n    },\n    scale: {\n      inputRange: [0, 1],\n      outputRange: [0.3, 1]\n    }\n  }\n});\nvar CONTENT_ANIMATION_OUT = Platform.select({\n  default: {\n    opacity: {\n      inputRange: [0, 1],\n      outputRange: [0, 1]\n    }\n  }\n});\nexport var Modal = function (_Component) {\n  _inherits(Modal, _Component);\n\n  var _super = _createSuper(Modal);\n\n  function Modal() {\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      visible: _this.props.visible,\n      currentAnimation: \"none\"\n    };\n    _this.animVal = new Animated.Value(0);\n    _this._isMounted = false;\n\n    _this.show = function () {\n      _this.setState({\n        visible: true,\n        currentAnimation: \"in\"\n      }, function () {\n        Animated.timing(_this.animVal, {\n          easing: Easing.inOut(Easing.quad),\n          useNativeDriver: false,\n          duration: MODAL_ANIM_DURATION,\n          toValue: 1\n        }).start(function () {\n          _this.setState({\n            currentAnimation: \"none\"\n          });\n        });\n      });\n    };\n\n    _this.hide = function () {\n      _this.setState({\n        animationDirection: \"out\"\n      }, function () {\n        Animated.timing(_this.animVal, {\n          easing: Easing.inOut(Easing.quad),\n          useNativeDriver: false,\n          duration: MODAL_ANIM_DURATION,\n          toValue: 0\n        }).start(function () {\n          if (_this._isMounted) {\n            _this.setState({\n              currentAnimation: \"none\"\n            });\n\n            _this.setState({\n              visible: false\n            }, _this.props.onHide);\n          }\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n\n      if (this.state.visible) {\n        this.show();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.visible && !prevProps.visible) {\n        this.show();\n      } else if (!this.props.visible && prevProps.visible) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          onBackdropPress = _this$props.onBackdropPress,\n          contentStyle = _this$props.contentStyle,\n          otherProps = _objectWithoutProperties(_this$props, [\"children\", \"onBackdropPress\", \"contentStyle\"]);\n\n      var _this$state = this.state,\n          currentAnimation = _this$state.currentAnimation,\n          visible = _this$state.visible;\n      var backdropAnimatedStyle = {\n        opacity: this.animVal.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, MODAL_BACKDROP_OPACITY]\n        })\n      };\n      var contentAnimatedStyle = currentAnimation === \"in\" ? {\n        opacity: this.animVal.interpolate({\n          inputRange: CONTENT_ANIMATION_IN.opacity.inputRange,\n          outputRange: CONTENT_ANIMATION_IN.opacity.outputRange,\n          extrapolate: \"clamp\"\n        }),\n        transform: [{\n          scale: this.animVal.interpolate({\n            inputRange: CONTENT_ANIMATION_IN.scale.inputRange,\n            outputRange: CONTENT_ANIMATION_IN.scale.outputRange,\n            extrapolate: \"clamp\"\n          })\n        }]\n      } : {\n        opacity: this.animVal.interpolate({\n          inputRange: CONTENT_ANIMATION_OUT.opacity.inputRange,\n          outputRange: CONTENT_ANIMATION_OUT.opacity.outputRange,\n          extrapolate: \"clamp\"\n        })\n      };\n      return React.createElement(ReactNativeModal, _extends({\n        transparent: true,\n        animationType: \"none\"\n      }, otherProps, {\n        visible: visible,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 7\n        }\n      }), React.createElement(TouchableWithoutFeedback, {\n        onPress: onBackdropPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 9\n        }\n      }, React.createElement(Animated.View, {\n        style: [styles.backdrop, backdropAnimatedStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }\n      })), visible && React.createElement(Animated.View, {\n        style: [styles.content, contentAnimatedStyle],\n        pointerEvents: \"box-none\",\n        needsOffscreenAlphaCompositing: [\"in\", \"out\"].includes(currentAnimation),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }\n      }, children));\n    }\n  }]);\n\n  return Modal;\n}(Component);\nModal.propTypes = {\n  onBackdropPress: PropTypes.func,\n  onHide: PropTypes.func,\n  visible: PropTypes.bool,\n  contentStyle: PropTypes.any\n};\nModal.defaultProps = {\n  onBackdropPress: function onBackdropPress() {\n    return null;\n  },\n  onHide: function onHide() {\n    return null;\n  },\n  visible: false\n};\nvar styles = StyleSheet.create({\n  backdrop: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: \"black\",\n    opacity: 0\n  },\n  content: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\nexport default Modal;","map":{"version":3,"sources":["/Users/steveruiz/GitHub/play-rn-prototype/node_modules/react-native-dialog/src/Modal.js"],"names":["React","Component","PropTypes","MODAL_ANIM_DURATION","MODAL_BACKDROP_OPACITY","CONTENT_ANIMATION_IN","Platform","select","ios","opacity","inputRange","outputRange","scale","android","default","CONTENT_ANIMATION_OUT","Modal","state","visible","props","currentAnimation","animVal","Animated","Value","_isMounted","show","setState","timing","easing","Easing","inOut","quad","useNativeDriver","duration","toValue","start","hide","animationDirection","onHide","prevProps","children","onBackdropPress","contentStyle","otherProps","backdropAnimatedStyle","interpolate","contentAnimatedStyle","extrapolate","transform","styles","backdrop","content","includes","propTypes","func","bool","any","defaultProps","StyleSheet","create","position","top","bottom","left","right","backgroundColor","flex","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Animated,\n  Easing,\n  Modal as ReactNativeModal,\n  Platform,\n  StyleSheet,\n  TouchableWithoutFeedback,\n} from \"react-native\";\n\nconst MODAL_ANIM_DURATION = 300;\nconst MODAL_BACKDROP_OPACITY = 0.3;\n\nconst CONTENT_ANIMATION_IN = Platform.select({\n  ios: {\n    opacity: {\n      inputRange: [0, 1],\n      outputRange: [0, 1],\n    },\n    scale: {\n      inputRange: [0, 0.5, 1],\n      outputRange: [1.2, 1.1, 1],\n    },\n  },\n  android: {\n    opacity: {\n      inputRange: [0, 0.5, 1],\n      outputRange: [0, 1, 1],\n    },\n    scale: {\n      inputRange: [0, 1],\n      outputRange: [0.3, 1],\n    },\n  },\n  default: {\n    opacity: {\n      inputRange: [0, 0.5, 1],\n      outputRange: [0, 1, 1],\n    },\n    scale: {\n      inputRange: [0, 1],\n      outputRange: [0.3, 1],\n    },\n  },\n});\n\nconst CONTENT_ANIMATION_OUT = Platform.select({\n  default: {\n    opacity: {\n      inputRange: [0, 1],\n      outputRange: [0, 1],\n    },\n  },\n});\n\nexport class Modal extends Component {\n  static propTypes = {\n    onBackdropPress: PropTypes.func,\n    onHide: PropTypes.func,\n    visible: PropTypes.bool,\n    contentStyle: PropTypes.any,\n  };\n\n  static defaultProps = {\n    onBackdropPress: () => null,\n    onHide: () => null,\n    visible: false,\n  };\n\n  state = {\n    visible: this.props.visible,\n    currentAnimation: \"none\",\n  };\n\n  animVal = new Animated.Value(0);\n  _isMounted = false;\n\n  componentDidMount() {\n    this._isMounted = true;\n    if (this.state.visible) {\n      this.show();\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentDidUpdate(prevProps: ModalPropsType) {\n    if (this.props.visible && !prevProps.visible) {\n      this.show();\n    } else if (!this.props.visible && prevProps.visible) {\n      this.hide();\n    }\n  }\n\n  show = () => {\n    this.setState({ visible: true, currentAnimation: \"in\" }, () => {\n      Animated.timing(this.animVal, {\n        easing: Easing.inOut(Easing.quad),\n        // Using native driver in the modal makes the content flash\n        useNativeDriver: false,\n        duration: MODAL_ANIM_DURATION,\n        toValue: 1,\n      }).start(() => {\n        this.setState({ currentAnimation: \"none\" });\n      });\n    });\n  };\n\n  hide = () => {\n    this.setState({ animationDirection: \"out\" }, () => {\n      Animated.timing(this.animVal, {\n        easing: Easing.inOut(Easing.quad),\n        // Using native driver in the modal makes the content flash\n        useNativeDriver: false,\n        duration: MODAL_ANIM_DURATION,\n        toValue: 0,\n      }).start(() => {\n        if (this._isMounted) {\n          this.setState({ currentAnimation: \"none\" });\n          this.setState({ visible: false }, this.props.onHide);\n        }\n      });\n    });\n  };\n\n  render() {\n    const {\n      children,\n      onBackdropPress,\n      contentStyle,\n      ...otherProps\n    } = this.props;\n    const { currentAnimation, visible } = this.state;\n\n    const backdropAnimatedStyle = {\n      opacity: this.animVal.interpolate({\n        inputRange: [0, 1],\n        outputRange: [0, MODAL_BACKDROP_OPACITY],\n      }),\n    };\n\n    const contentAnimatedStyle =\n      currentAnimation === \"in\"\n        ? {\n            opacity: this.animVal.interpolate({\n              inputRange: CONTENT_ANIMATION_IN.opacity.inputRange,\n              outputRange: CONTENT_ANIMATION_IN.opacity.outputRange,\n              extrapolate: \"clamp\",\n            }),\n            transform: [\n              {\n                scale: this.animVal.interpolate({\n                  inputRange: CONTENT_ANIMATION_IN.scale.inputRange,\n                  outputRange: CONTENT_ANIMATION_IN.scale.outputRange,\n                  extrapolate: \"clamp\",\n                }),\n              },\n            ],\n          }\n        : {\n            opacity: this.animVal.interpolate({\n              inputRange: CONTENT_ANIMATION_OUT.opacity.inputRange,\n              outputRange: CONTENT_ANIMATION_OUT.opacity.outputRange,\n              extrapolate: \"clamp\",\n            }),\n          };\n\n    return (\n      <ReactNativeModal\n        transparent\n        animationType=\"none\"\n        {...otherProps}\n        visible={visible}\n      >\n        <TouchableWithoutFeedback onPress={onBackdropPress}>\n          <Animated.View style={[styles.backdrop, backdropAnimatedStyle]} />\n        </TouchableWithoutFeedback>\n        {visible && (\n          <Animated.View\n            style={[styles.content, contentAnimatedStyle]}\n            pointerEvents=\"box-none\"\n            // Setting \"needsOffscreenAlphaCompositing\" solves a janky elevation\n            // animation on android. We should set it only while animation\n            // to avoid using more memory than needed.\n            // See: https://github.com/facebook/react-native/issues/23090\n            needsOffscreenAlphaCompositing={[\"in\", \"out\"].includes(\n              currentAnimation\n            )}\n          >\n            {children}\n          </Animated.View>\n        )}\n      </ReactNativeModal>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  backdrop: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: \"black\",\n    opacity: 0,\n  },\n  content: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n\nexport default Modal;\n"]},"metadata":{},"sourceType":"module"}